<% if @customer.errors.empty? %>

$('.mailpimp-newsletter-msg').html('<%= t(".success") %>');
$('.mailpimp-newsletter-input').val('');
$('.mailpimp-newsletter-form').removeClass('mailpimp-newsletter-error').addClass('mailpimp-newsletter-success');

setTimeout(function() {
  $('.mailpimp-newsletter-form').removeClass('mailpimp-newsletter-success');
}, 5000);

<% else %>

$('.mailpimp-newsletter-msg').html('<%= error_messages_for(@customer, length: 1).html_safe %>');
$('.mailpimp-newsletter-form').removeClass('mailpimp-newsletter-success').addClass('mailpimp-newsletter-error');

<% end %>
